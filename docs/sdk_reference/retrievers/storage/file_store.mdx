---
title: File Store
description: The File Store Class
---

## FileResult

```python
class FileResult(NamedTuple)
```

Return type for FileStore.get()

**Arguments**:

- `file` - The file object
- `type` - The type of the file without the leading dot (e.g. "csv", "txt", "xlsx", etc.). Usually the extension of the file but can be used for other purposes. (e.g. "google_doc")
- `name` - The name of the file
- `metadata` - A map of metadata for the file

## FileStore

```python
class FileStore(ABC)
```

Base class for file stores. File stores are used to store files that hydrate Context objects. The files can be stored locally or remotely.

#### get

```python
@abstractmethod
def get(reference: str) -> FileResult
```

Get a file from the file store by reference (like an id or path).

**Arguments**:

- `reference` - The id or path of the file in the FileStore.
  

**Raises**:

- `FileNotFoundError` - If the file is not found.
  

**Returns**:

  A Path object or a file-like object.

#### contains

```python
@abstractmethod
def contains(reference: str) -> bool
```

Checks if the file store contains a given reference.

**Arguments**:

- `reference` - The id or path of the file in the FileStore.
  

**Returns**:

  True if the reference is found in the file store, False otherwise.

#### keys

```python
@abstractmethod
def keys(folder: Optional[str] = None) -> Iterator[str]
```

Iterate over all keys in the file store.

#### values

```python
def values(folder: Optional[str] = None) -> Iterator[FileResult]
```

Iterate over all files in the file store.

#### items

```python
def items(folder: Optional[str] = None) -> Iterator[Tuple[str, FileResult]]
```

Iterate over all keys and files in the file store.

#### \_\_iter\_\_

```python
def __iter__() -> Iterator[str]
```

Iterate over all references in the file store.

#### \_\_len\_\_

```python
def __len__() -> int
```

Get the number of files in the file store.

## MutableFileStore

```python
class MutableFileStore(FileStore)
```

A FileStore that supports adding and removing files.

#### add

```python
@abstractmethod
def add(file: str | Path | IO, type: Optional[str] = None) -> str
```

Add a file to the file store.

**Arguments**:

- `file` - The file to add to the file store.
  

**Returns**:

  The reference to the file in the FileStore.

#### update

```python
@abstractmethod
def update(reference: str,
           file: str | Path | IO,
           type: Optional[str] = None) -> None
```

Update a file in the file store.

**Arguments**:

- `reference` - The id or path of the file in the FileStore.
- `file` - The file to update in the file store.
  

**Raises**:

- `FileNotFoundError` - If the file is not found.

#### remove

```python
@abstractmethod
def remove(reference: str) -> None
```

Remove a file from the file store.

**Raises**:

- `FileNotFoundError` - If the file is not found.
  

**Arguments**:

- `reference` - The id or path of the file in the FileStore.

## InPlaceFileStore

```python
class InPlaceFileStore(FileStore)
```

#### get

```python
def get(reference: str) -> FileResult
```

Get a file from the file store by path relative to self.directory.

**Arguments**:

- `reference` - The local path of the file relative to self.directory.
  

**Raises**:

- `FileNotFoundError` - If the file is not found.
  

**Returns**:

  A Path object.

#### keys

```python
def keys(folder: Optional[str] = None) -> Iterator[str]
```

Iterate over all files in the file store.

## LocalFileStore

```python
class LocalFileStore(MutableFileStore)
```

#### get

```python
def get(reference: str) -> FileResult
```

Get a file from the file store by path relative to self.directory.

